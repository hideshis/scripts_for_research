<!DOCTYPE html>
<html>
<head>
  <title>MemcachedHttpCacheStorage.java</title>
  <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
  <link rel='stylesheet' type='text/css' href='../../../../../../../coverage.css'/>
  <link rel='shortcut icon' type='image/png' href='../../../../../../../logo.png'/>
  <script type='text/javascript' src='../../../../../../../coverage.js'></script>
  <script type='text/javascript' src='../../../../../../../prettify.js'></script>
</head>
<body onload='prettyPrint()'>
  <table cellpadding='0' cellspacing='1'>
    <caption>httpclient-cache/src/main/java/org/apache/http/impl/client/cache/memcached/MemcachedHttpCacheStorage.java</caption>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>/*
 * ====================================================================
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 * ====================================================================
 *
 * This software consists of voluntary contributions made by many
 * individuals on behalf of the Apache Software Foundation.  For more
 * information on the Apache Software Foundation, please see
 * &lt;http://www.apache.org/>.
 *
 */</div><span>/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>27</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>package org.apache.http.impl.client.cache.memcached;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td><pre class='imports prettyprint' onclick='showHideLines(this)'><div>import java.io.IOException;
import java.net.InetSocketAddress;

import net.spy.memcached.CASResponse;
import net.spy.memcached.CASValue;
import net.spy.memcached.MemcachedClient;
import net.spy.memcached.MemcachedClientIF;
import net.spy.memcached.OperationTimeoutException;

import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;
import org.apache.http.client.cache.HttpCacheEntry;
import org.apache.http.client.cache.HttpCacheEntrySerializer;
import org.apache.http.client.cache.HttpCacheStorage;
import org.apache.http.client.cache.HttpCacheUpdateCallback;
import org.apache.http.client.cache.HttpCacheUpdateException;
import org.apache.http.impl.client.cache.CacheConfig;
</div><span>import ...</span></pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>/**
 * &lt;p>
 * This class is a storage backend that uses an external &lt;i>memcached&lt;/i>
 * for storing cached origin responses. This storage option provides a
 * couple of interesting advantages over the default in-memory storage
 * backend:
 * &lt;/p>
 * &lt;ol>
 * &lt;li>in-memory cached objects can survive an application restart since
 * they are held in a separate process&lt;/li>
 * &lt;li>it becomes possible for several cooperating applications to share
 * a large &lt;i>memcached&lt;/i> farm together&lt;/li>
 * &lt;/ol>
 * &lt;p>
 * Note that in a shared memcached pool setting you may wish to make use
 * of the Ketama consistent hashing algorithm to reduce the number of
 * cache misses that might result if one of the memcached cluster members
 * fails (see the &lt;a href="http://dustin.github.com/java-memcached-client/apidocs/net/spy/memcached/KetamaConnectionFactory.html">
 * KetamaConnectionFactory&lt;/a>).
 * &lt;/p>
 * &lt;p>
 * Because memcached places limits on the size of its keys, we need to
 * introduce a key hashing scheme to map the annotated URLs the higher-level
 * caching HTTP client wants to use as keys onto ones that are suitable
 * for use with memcached. Please see {@link KeyHashingScheme} if you would
 * like to use something other than the provided {@link SHA256KeyHashingScheme}.
 * &lt;/p>
 *
 * &lt;p>
 * Because this hashing scheme can potentially result in key collisions (though
 * highly unlikely), we need to store the higher-level logical storage key along
 * with the {@link HttpCacheEntry} so that we can re-check it on retrieval. There
 * is a default serialization scheme provided for this, although you can provide
 * your own implementations of {@link MemcachedCacheEntry} and
 * {@link MemcachedCacheEntryFactory} to customize this serialization.
 * &lt;/p>
 *
 * &lt;p>
 * Please refer to the &lt;a href="http://code.google.com/p/memcached/wiki/NewStart">
 * memcached documentation&lt;/a> and in particular to the documentation for
 * the &lt;a href="http://code.google.com/p/spymemcached/">spymemcached
 * documentation&lt;/a> for details about how to set up and configure memcached
 * and the Java client used here, respectively.
 * &lt;/p>
 *
 * @since 4.1
 */</div><span>/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>94</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>public class MemcachedHttpCacheStorage implements HttpCacheStorage {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>96</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l96s0'>    private static final Log log = LogFactory.getLog(MemcachedHttpCacheStorage.class);</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#setUp: 74</li>
        </ol>
      </td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>98</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    private final MemcachedClientIF client;</pre></td>
    </tr>
    <tr>
      <td class='line'>99</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    private final KeyHashingScheme keyHashingScheme;</pre></td>
    </tr>
    <tr>
      <td class='line'>100</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    private final MemcachedCacheEntryFactory memcachedCacheEntryFactory;</pre></td>
    </tr>
    <tr>
      <td class='line'>101</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    private final int maxUpdateRetries;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>    /**
     * Create a storage backend talking to a &lt;i>memcached&lt;/i> instance
     * listening on the specified host and port. This is useful if you
     * just have a single local memcached instance running on the same
     * machine as your application, for example.
     * @param address where the &lt;i>memcached&lt;/i> daemon is running
     * @throws IOException in case of an error
     */</div><span>    /*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>111</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public MemcachedHttpCacheStorage(final InetSocketAddress address) throws IOException {</pre></td>
    </tr>
    <tr>
      <td class='line'>112</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l112s0'>        this(new MemcachedClient(address));</pre>
        <ol style='display:none'></ol>
      </td>
    </tr>
    <tr>
      <td class='line'>113</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l113s0'>    }</pre>
        <ol style='display:none'></ol>
      </td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>    /**
     * Create a storage backend using the pre-configured given
     * &lt;i>memcached&lt;/i> client.
     * @param cache client to use for communicating with &lt;i>memcached&lt;/i>
     */</div><span>    /*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>120</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public MemcachedHttpCacheStorage(final MemcachedClientIF cache) {</pre></td>
    </tr>
    <tr>
      <td class='line'>121</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l121s0'>        this(cache, CacheConfig.DEFAULT, new MemcachedCacheEntryFactoryImpl(),</pre>
        <ol style='display:none'></ol>
      </td>
    </tr>
    <tr>
      <td class='line'>122</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                new SHA256KeyHashingScheme());</pre></td>
    </tr>
    <tr>
      <td class='line'>123</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l123s0'>    }</pre>
        <ol style='display:none'></ol>
      </td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>    /**
     * Create a storage backend using the given &lt;i>memcached&lt;/i> client and
     * applying the given cache configuration and cache entry serialization
     * mechanism. &lt;b>Deprecation note:&lt;/b> In the process of fixing a bug
     * based on the need to hash logical storage keys onto memcached cache
     * keys, the serialization process was revamped. This constructor still
     * works, but the serializer argument will be ignored and default
     * implementations of the new framework will be used. You can still
     * provide custom serialization by using the
     * {@link #MemcachedHttpCacheStorage(MemcachedClientIF, CacheConfig,
     * MemcachedCacheEntryFactory, KeyHashingScheme)} constructor.
     * @param client how to talk to &lt;i>memcached&lt;/i>
     * @param config apply HTTP cache-related options
     * @param serializer &lt;b>ignored&lt;/b>
     *
     * @deprecated (4.2) do not use
     */</div><span>    /*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>142</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    @Deprecated</pre></td>
    </tr>
    <tr>
      <td class='line'>143</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public MemcachedHttpCacheStorage(final MemcachedClientIF client, final CacheConfig config,</pre></td>
    </tr>
    <tr>
      <td class='line'>144</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            final HttpCacheEntrySerializer serializer) {</pre></td>
    </tr>
    <tr>
      <td class='line'>145</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l145s0'>        this(client, config, new MemcachedCacheEntryFactoryImpl(),</pre>
        <ol style='display:none'></ol>
      </td>
    </tr>
    <tr>
      <td class='line'>146</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                new SHA256KeyHashingScheme());</pre></td>
    </tr>
    <tr>
      <td class='line'>147</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l147s0'>    }</pre>
        <ol style='display:none'></ol>
      </td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>    /**
     * Create a storage backend using the given &lt;i>memcached&lt;/i> client and
     * applying the given cache configuration, serialization, and hashing
     * mechanisms.
     * @param client how to talk to &lt;i>memcached&lt;/i>
     * @param config apply HTTP cache-related options
     * @param memcachedCacheEntryFactory Factory pattern used for obtaining
     *   instances of alternative cache entry serialization mechanisms
     * @param keyHashingScheme how to map higher-level logical "storage keys"
     *   onto "cache keys" suitable for use with memcached
     */</div><span>    /*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>160</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public MemcachedHttpCacheStorage(final MemcachedClientIF client, final CacheConfig config,</pre></td>
    </tr>
    <tr>
      <td class='line'>161</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            final MemcachedCacheEntryFactory memcachedCacheEntryFactory,</pre></td>
    </tr>
    <tr>
      <td class='line'>162</td><td class='count'>21</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l162s0'>            final KeyHashingScheme keyHashingScheme) {</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#setUp: 74x20</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 456</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>163</td><td class='count'>21</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l163s0'>        this.client = client;</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#setUp: 74x20</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 456</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>164</td><td class='count'>21</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l164s0'>        this.maxUpdateRetries = config.getMaxUpdateRetries();</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#setUp: 74x20</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 456</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>165</td><td class='count'>21</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l165s0'>        this.memcachedCacheEntryFactory = memcachedCacheEntryFactory;</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#setUp: 74x20</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 456</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>166</td><td class='count'>21</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l166s0'>        this.keyHashingScheme = keyHashingScheme;</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#setUp: 74x20</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 456</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>167</td><td class='count'>21</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l167s0'>    }</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#setUp: 74x20</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 456</li>
        </ol>
      </td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>169</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    @Override</pre></td>
    </tr>
    <tr>
      <td class='line'>170</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public void putEntry(final String url, final HttpCacheEntry entry) throws IOException  {</pre></td>
    </tr>
    <tr>
      <td class='line'>171</td><td class='count'>6</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l171s0'>        final byte[] bytes = serializeEntry(url, entry);</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCachePutThrowsIOExceptionIfCannotSerializeEntry: 160</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCachePut: 94</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCachePutFailsSilentlyWhenWeCannotHashAKey: 114</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateNullEntry: 345</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testThrowsIOExceptionWhenMemcachedPutTimesOut: 137</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>172</td><td class='count'>5</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l172s0'>        final String key = getCacheKey(url);</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCachePut: 94</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCachePutFailsSilentlyWhenWeCannotHashAKey: 114</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateNullEntry: 345</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testThrowsIOExceptionWhenMemcachedPutTimesOut: 137</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>173</td><td class='count'>5</td>
      <td><pre class='prettyprint jmp'>        <span id='l173s0' title='Executions: 5' class='covered cp' onclick='showHide(this,0)'>if (key == null)</span> {</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCachePut: 94</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCachePutFailsSilentlyWhenWeCannotHashAKey: 114</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateNullEntry: 345</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testThrowsIOExceptionWhenMemcachedPutTimesOut: 137</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>174</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l174s0'>            return;</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCachePutFailsSilentlyWhenWeCannotHashAKey: 114</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>175</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>176</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr>
      <td class='line'>177</td><td class='count'>4</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l177s0'>            client.set(key, 0, bytes);</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCachePut: 94</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateNullEntry: 345</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testThrowsIOExceptionWhenMemcachedPutTimesOut: 137</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>178</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l178s0'>        } catch (final OperationTimeoutException ex) {</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testThrowsIOExceptionWhenMemcachedPutTimesOut: 137</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>179</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l179s0'>            throw new MemcachedOperationTimeoutException(ex);</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testThrowsIOExceptionWhenMemcachedPutTimesOut: 137</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>180</td><td class='count'>3</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l180s0'>        }</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCachePut: 94</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateNullEntry: 345</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>181</td><td class='count'>3</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l181s0'>    }</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCachePut: 94</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateNullEntry: 345</li>
        </ol>
      </td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>183</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    private String getCacheKey(final String url) {</pre></td>
    </tr>
    <tr>
      <td class='line'>184</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr>
      <td class='line'>185</td><td class='count'>21</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l185s0'>            return keyHashingScheme.hash(url);</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNullFromMemcachedAsCacheMiss: 223</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsAsCacheMissIfCannotReconstituteEntry: 244</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsAsCacheMissIfCantHashStorageKey: 259</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheRemoveHandlesKeyHashingFailure: 297</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCacheGet: 185</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCachePut: 94</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheRemove: 287</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNoneByteArrayFromMemcachedAsCacheMiss: 206</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testUpdateThrowsIOExceptionIfMemcachedTimesOut: 584</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testThrowsExceptionOnUpdateIfCannotHashStorageKey: 602</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheRemoveThrowsIOExceptionOnMemcachedTimeout: 310</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCachePutFailsSilentlyWhenWeCannotHashAKey: 114</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386x2</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testThrowsIOExceptionIfMemcachedTimesOutOnGet: 272</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateNullEntry: 345x2</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testThrowsIOExceptionWhenMemcachedPutTimesOut: 137</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>186</td><td class='count'>3</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l186s0'>        } catch (final MemcachedKeyHashingException mkhe) {</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsAsCacheMissIfCantHashStorageKey: 259</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testThrowsExceptionOnUpdateIfCannotHashStorageKey: 602</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCachePutFailsSilentlyWhenWeCannotHashAKey: 114</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>187</td><td class='count'>3</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l187s0'>            return null;</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsAsCacheMissIfCantHashStorageKey: 259</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testThrowsExceptionOnUpdateIfCannotHashStorageKey: 602</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCachePutFailsSilentlyWhenWeCannotHashAKey: 114</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>188</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>189</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>191</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    private byte[] serializeEntry(final String url, final HttpCacheEntry hce) throws IOException {</pre></td>
    </tr>
    <tr>
      <td class='line'>192</td><td class='count'>9</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l192s0'>        final MemcachedCacheEntry mce = memcachedCacheEntryFactory.getMemcachedCacheEntry(url, hce);</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCachePutThrowsIOExceptionIfCannotSerializeEntry: 160</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCachePut: 94</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCachePutFailsSilentlyWhenWeCannotHashAKey: 114</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateNullEntry: 345</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testThrowsIOExceptionWhenMemcachedPutTimesOut: 137</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>193</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr>
      <td class='line'>194</td><td class='count'>9</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l194s0'>            return mce.toByteArray();</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCachePutThrowsIOExceptionIfCannotSerializeEntry: 160</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCachePut: 94</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCachePutFailsSilentlyWhenWeCannotHashAKey: 114</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateNullEntry: 345</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testThrowsIOExceptionWhenMemcachedPutTimesOut: 137</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>195</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l195s0'>        } catch (final MemcachedSerializationException mse) {</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCachePutThrowsIOExceptionIfCannotSerializeEntry: 160</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>196</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l196s0'>            final IOException ioe = new IOException();</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCachePutThrowsIOExceptionIfCannotSerializeEntry: 160</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>197</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l197s0'>            ioe.initCause(mse);</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCachePutThrowsIOExceptionIfCannotSerializeEntry: 160</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>198</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l198s0'>            throw ioe;</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCachePutThrowsIOExceptionIfCannotSerializeEntry: 160</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>199</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>200</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>202</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    private byte[] convertToByteArray(final Object o) {</pre></td>
    </tr>
    <tr>
      <td class='line'>203</td><td class='count'>8</td>
      <td><pre class='prettyprint jmp'>        <span id='l203s0' title='Executions: 8' class='covered cp' onclick='showHide(this,0)'>if (o == null)</span> {</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNullFromMemcachedAsCacheMiss: 223</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsAsCacheMissIfCannotReconstituteEntry: 244</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCacheGet: 185</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNoneByteArrayFromMemcachedAsCacheMiss: 206</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>204</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l204s0'>            return null;</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNullFromMemcachedAsCacheMiss: 223</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>205</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>206</td><td class='count'>7</td>
      <td><pre class='prettyprint jmp'>        <span id='l206s0' title='Executions: 7' class='covered cp' onclick='showHide(this,0)'>if (!(o instanceof byte[]))</span> {</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsAsCacheMissIfCannotReconstituteEntry: 244</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCacheGet: 185</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNoneByteArrayFromMemcachedAsCacheMiss: 206</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>207</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l207s0'>            log.warn("got a non-bytearray back from memcached: " + o);</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNoneByteArrayFromMemcachedAsCacheMiss: 206</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>208</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l208s0'>            return null;</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNoneByteArrayFromMemcachedAsCacheMiss: 206</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>209</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>210</td><td class='count'>6</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l210s0'>        return (byte[])o;</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsAsCacheMissIfCannotReconstituteEntry: 244</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCacheGet: 185</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>211</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>213</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    private MemcachedCacheEntry reconstituteEntry(final Object o) {</pre></td>
    </tr>
    <tr>
      <td class='line'>214</td><td class='count'>8</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l214s0'>        final byte[] bytes = convertToByteArray(o);</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNullFromMemcachedAsCacheMiss: 223</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsAsCacheMissIfCannotReconstituteEntry: 244</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCacheGet: 185</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNoneByteArrayFromMemcachedAsCacheMiss: 206</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>215</td><td class='count'>8</td>
      <td><pre class='prettyprint jmp'>        <span id='l215s0' title='Executions: 8' class='covered cp' onclick='showHide(this,0)'>if (bytes == null)</span> {</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNullFromMemcachedAsCacheMiss: 223</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsAsCacheMissIfCannotReconstituteEntry: 244</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCacheGet: 185</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNoneByteArrayFromMemcachedAsCacheMiss: 206</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>216</td><td class='count'>2</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l216s0'>            return null;</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNullFromMemcachedAsCacheMiss: 223</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNoneByteArrayFromMemcachedAsCacheMiss: 206</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>217</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>218</td><td class='count'>6</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l218s0'>        final MemcachedCacheEntry mce = memcachedCacheEntryFactory.getUnsetCacheEntry();</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsAsCacheMissIfCannotReconstituteEntry: 244</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCacheGet: 185</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>219</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr>
      <td class='line'>220</td><td class='count'>6</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l220s0'>            mce.set(bytes);</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsAsCacheMissIfCannotReconstituteEntry: 244</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCacheGet: 185</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>221</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l221s0'>        } catch (final MemcachedSerializationException mse) {</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsAsCacheMissIfCannotReconstituteEntry: 244</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>222</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l222s0'>            return null;</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsAsCacheMissIfCannotReconstituteEntry: 244</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>223</td><td class='count'>5</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l223s0'>        }</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCacheGet: 185</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>224</td><td class='count'>5</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l224s0'>        return mce;</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCacheGet: 185</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>225</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>227</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    @Override</pre></td>
    </tr>
    <tr>
      <td class='line'>228</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public HttpCacheEntry getEntry(final String url) throws IOException {</pre></td>
    </tr>
    <tr>
      <td class='line'>229</td><td class='count'>6</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l229s0'>        final String key = getCacheKey(url);</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNullFromMemcachedAsCacheMiss: 223</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsAsCacheMissIfCannotReconstituteEntry: 244</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsAsCacheMissIfCantHashStorageKey: 259</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCacheGet: 185</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNoneByteArrayFromMemcachedAsCacheMiss: 206</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testThrowsIOExceptionIfMemcachedTimesOutOnGet: 272</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>230</td><td class='count'>6</td>
      <td><pre class='prettyprint jmp'>        <span id='l230s0' title='Executions: 6' class='covered cp' onclick='showHide(this,0)'>if (key == null)</span> {</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNullFromMemcachedAsCacheMiss: 223</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsAsCacheMissIfCannotReconstituteEntry: 244</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsAsCacheMissIfCantHashStorageKey: 259</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCacheGet: 185</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNoneByteArrayFromMemcachedAsCacheMiss: 206</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testThrowsIOExceptionIfMemcachedTimesOutOnGet: 272</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>231</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l231s0'>            return null;</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsAsCacheMissIfCantHashStorageKey: 259</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>232</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>233</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr>
      <td class='line'>234</td><td class='count'>5</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l234s0'>            final MemcachedCacheEntry mce = reconstituteEntry(client.get(key));</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNullFromMemcachedAsCacheMiss: 223</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsAsCacheMissIfCannotReconstituteEntry: 244</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCacheGet: 185</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNoneByteArrayFromMemcachedAsCacheMiss: 206</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testThrowsIOExceptionIfMemcachedTimesOutOnGet: 272</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>235</td><td class='count'>4</td>
      <td><pre class='prettyprint jmp'>            <span id='l235s0' title='Executions: 4' class='covered cp' onclick='showHide(this,0)'>if (mce == null</span> || <span id='l235s1' title='Executions: 1' class='covered cp' onclick='showHide(this,1)'>!url.equals(mce.getStorageKey()))</span> {</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNullFromMemcachedAsCacheMiss: 223</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsAsCacheMissIfCannotReconstituteEntry: 244</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCacheGet: 185</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNoneByteArrayFromMemcachedAsCacheMiss: 206</li>
        </ol>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCacheGet: 185</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>236</td><td class='count'>3</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l236s0'>                return null;</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNullFromMemcachedAsCacheMiss: 223</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsAsCacheMissIfCannotReconstituteEntry: 244</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testTreatsNoneByteArrayFromMemcachedAsCacheMiss: 206</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>237</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr>
      <td class='line'>238</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l238s0'>            return mce.getHttpCacheEntry();</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testSuccessfulCacheGet: 185</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>239</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l239s0'>        } catch (final OperationTimeoutException ex) {</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testThrowsIOExceptionIfMemcachedTimesOutOnGet: 272</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>240</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l240s0'>            throw new MemcachedOperationTimeoutException(ex);</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testThrowsIOExceptionIfMemcachedTimesOutOnGet: 272</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>241</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>242</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>244</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    @Override</pre></td>
    </tr>
    <tr>
      <td class='line'>245</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public void removeEntry(final String url) throws IOException {</pre></td>
    </tr>
    <tr>
      <td class='line'>246</td><td class='count'>3</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l246s0'>        final String key = getCacheKey(url);</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheRemoveHandlesKeyHashingFailure: 297</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheRemove: 287</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheRemoveThrowsIOExceptionOnMemcachedTimeout: 310</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>247</td><td class='count'>3</td>
      <td><pre class='prettyprint jmp'>        <span id='l247s0' title='Executions: 3' class='covered cp' onclick='showHide(this,0)'>if (key == null)</span> {</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheRemoveHandlesKeyHashingFailure: 297</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheRemove: 287</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheRemoveThrowsIOExceptionOnMemcachedTimeout: 310</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>248</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l248s0'>            return;</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheRemoveHandlesKeyHashingFailure: 297</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>249</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>250</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr>
      <td class='line'>251</td><td class='count'>2</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l251s0'>            client.delete(key);</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheRemove: 287</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheRemoveThrowsIOExceptionOnMemcachedTimeout: 310</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>252</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l252s0'>        } catch (final OperationTimeoutException ex) {</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheRemoveThrowsIOExceptionOnMemcachedTimeout: 310</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>253</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l253s0'>            throw new MemcachedOperationTimeoutException(ex);</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheRemoveThrowsIOExceptionOnMemcachedTimeout: 310</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>254</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l254s0'>        }</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheRemove: 287</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>255</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l255s0'>    }</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheRemove: 287</li>
        </ol>
      </td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>257</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    @Override</pre></td>
    </tr>
    <tr>
      <td class='line'>258</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public void updateEntry(final String url, final HttpCacheUpdateCallback callback)</pre></td>
    </tr>
    <tr>
      <td class='line'>259</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            throws HttpCacheUpdateException, IOException {</pre></td>
    </tr>
    <tr>
      <td class='line'>260</td><td class='count'>7</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l260s0'>        int numRetries = 0;</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testUpdateThrowsIOExceptionIfMemcachedTimesOut: 584</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testThrowsExceptionOnUpdateIfCannotHashStorageKey: 602</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateNullEntry: 345</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>261</td><td class='count'>7</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l261s0'>        final String key = getCacheKey(url);</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testUpdateThrowsIOExceptionIfMemcachedTimesOut: 584</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testThrowsExceptionOnUpdateIfCannotHashStorageKey: 602</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateNullEntry: 345</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>262</td><td class='count'>7</td>
      <td><pre class='prettyprint jmp'>        <span id='l262s0' title='Executions: 7' class='covered cp' onclick='showHide(this,0)'>if (key == null)</span> {</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testUpdateThrowsIOExceptionIfMemcachedTimesOut: 584</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testThrowsExceptionOnUpdateIfCannotHashStorageKey: 602</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateNullEntry: 345</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>263</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l263s0'>            throw new HttpCacheUpdateException("couldn't generate cache key");</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testThrowsExceptionOnUpdateIfCannotHashStorageKey: 602</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>264</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>265</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        do {</pre></td>
    </tr>
    <tr>
      <td class='line'>266</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            try {</pre></td>
    </tr>
    <tr>
      <td class='line'>267</td><td class='count'>6</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l267s0'>                final CASValue&lt;Object> v = client.gets(key);</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testUpdateThrowsIOExceptionIfMemcachedTimesOut: 584</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateNullEntry: 345</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>268</td><td class='count'>5</td>
      <td><pre class='prettyprint jmp'>                <span id='l268s0' title='Executions: 5' class='covered cp' onclick='showHide(this,0)'>MemcachedCacheEntry mce = (v == null)</span> ? <span id='l268s1' title='Executions: 1' class='covered cp' onclick='showHide(this,1)'>null</span></pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateNullEntry: 345</li>
        </ol>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateNullEntry: 345</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>269</td><td class='count'>4</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l269s0'>                        : reconstituteEntry(v.getValue());</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>270</td><td class='count'>5</td>
      <td><pre class='prettyprint jmp'>                <span id='l270s0' title='Executions: 5' class='covered cp' onclick='showHide(this,0)'>if (mce != null</span> && (<span id='l270s1' title='Executions: 4' class='covered cp' onclick='showHide(this,1)'>!url.equals(mce.getStorageKey()))) {</span></pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateNullEntry: 345</li>
        </ol>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>271</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l271s0'>                    mce = null;</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>272</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>273</td><td class='count'>5</td>
      <td><pre class='prettyprint jmp'>                <span id='l273s0' title='Executions: 5' class='covered cp' onclick='showHide(this,0)'>final HttpCacheEntry existingEntry = (mce == null)</span> ? <span id='l273s1' title='Executions: 2' class='covered cp' onclick='showHide(this,1)'>null</span></pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateNullEntry: 345</li>
        </ol>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateNullEntry: 345</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>274</td><td class='count'>3</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l274s0'>                        : mce.getHttpCacheEntry();</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>275</td><td class='count'>5</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l275s0'>                final HttpCacheEntry updatedEntry = callback.update(existingEntry);</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateNullEntry: 345</li>
        </ol>
      </td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>277</td><td class='count'>5</td>
      <td><pre class='prettyprint jmp'>                <span id='l277s0' title='Executions: 5' class='covered cp' onclick='showHide(this,0)'>if (existingEntry == null)</span> {</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateNullEntry: 345</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>278</td><td class='count'>2</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l278s0'>                    putEntry(url, updatedEntry);</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateNullEntry: 345</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>279</td><td class='count'>2</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l279s0'>                    return;</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateOverwritesNonMatchingHashCollision: 386</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateNullEntry: 345</li>
        </ol>
      </td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>281</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                } else {</pre></td>
    </tr>
    <tr>
      <td class='line'>282</td><td class='count'>3</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l282s0'>                    final byte[] updatedBytes = serializeEntry(url, updatedEntry);</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>283</td><td class='count'>3</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l283s0'>                    final CASResponse casResult = client.cas(key, v.getCas(),</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>284</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                            updatedBytes);</pre></td>
    </tr>
    <tr>
      <td class='line'>285</td><td class='count'>3</td>
      <td><pre class='prettyprint jmp'>                    <span id='l285s0' title='Executions: 3' class='covered cp' onclick='showHide(this,0)'>if (casResult != CASResponse.OK)</span> {</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>286</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l286s0'>                        numRetries++;</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>287</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                    } else {</pre></td>
    </tr>
    <tr>
      <td class='line'>288</td><td class='count'>2</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l288s0'>                        return;</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntry: 433</li>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateCanUpdateExistingEntryWithRetry: 541</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>289</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                    }</pre></td>
    </tr>
    <tr>
      <td class='line'>290</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>291</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l291s0'>            } catch (final OperationTimeoutException ex) {</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testUpdateThrowsIOExceptionIfMemcachedTimesOut: 584</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>292</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l292s0'>                throw new MemcachedOperationTimeoutException(ex);</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testUpdateThrowsIOExceptionIfMemcachedTimesOut: 584</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>293</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l293s0'>            }</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>294</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l294s0'>        } while (numRetries &lt;= maxUpdateRetries);</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
        </ol>
      </td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>296</td><td class='count'>1</td>
      <td><pre class='prettyprint covered cp' onclick='showHide(this)' id='l296s0'>        throw new HttpCacheUpdateException("Failed to update");</pre>
        <ol style='display:none'>
          <li>org.apache.http.impl.client.cache.memcached.TestMemcachedHttpCacheStorage#testCacheUpdateThrowsExceptionsIfCASFailsEnoughTimes: 484</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td class='line'>297</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr>
      <td class='line'>298</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>}</pre></td>
    </tr>
  </table>
</body>
</html>
